<!DOCTYPE html>
<html>
<head>
    <title>Histogram from CSV</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div id="histogram"></div>

<script>
// Function to parse CSV data
function parseCSVData(allText) {
    var allTextLines = allText.split(/\r\n|\n/);
    var headers = allTextLines[0].split(',');
    var lines = [];

    for (var i=1; i<allTextLines.length; i++) {
        var data = allTextLines[i].split(',');
        if (data.length == headers.length) {
            var tarr = {};
            for (var j=0; j<headers.length; j++) {
                tarr[headers[j]] = data[j];
            }
            lines.push(tarr);
        }
    }
    return lines;
}

// Read CSV file and plot
fetch('breadthdata.csv')
.then(response => response.text())
.then(data => {
    var parsedData = parseCSVData(data);

    var dateData = parsedData.map(row => row['Date']);
    var btcPriceData = parsedData.map(row => parseInt(row['close']));
	var breathData = parsedData.map(row => parseInt(row['Index (MSI)']))
	var MACDbreathData = parsedData.map(row => parseInt(row['MACD']))

    var trace = {
        x: dateData,
        y: btcPriceData,
        type: 'scatter'
    };

    var layout = {
        title: 'Histogram from CSV Data',
        xaxis: {title: 'Date'},
        yaxis: {
				title: 'Histogram Data',
				type: 'log'
				}
    };

    Plotly.newPlot('histogram', [trace], layout);
})
.catch(error => console.log('Error:', error));
</script>

</body>
</html>
